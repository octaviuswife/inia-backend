<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ReporteController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">java in Proyecto-Final-UTEC Coverage Results, RepTetrazolioViabilidadControllerIntegrationTest Coverage Results, RepTetrazolioViabilidadControllerIntegrationTest Coverage Results, RepPmsControllerIntegrationTest Coverage Results, RepTetrazolioViabilidadControllerIntegrationTest Coverage Results, RepTetrazolioViabilidadControllerIntegrationTest Coverage Results, Auth2FAControllerIntegrationTest Coverage Results, Auth2FAControllerIntegrationTest Coverage Results, Auth2FAControllerIntegrationTest Coverage Results, Auth2FAControllerIntegrationTest Coverage Results, Auth2FAControllerIntegrationTest Coverage Results, java in Proyecto-Final-UTEC Coverage Results</a> &gt; <a href="index.source.html" class="el_package">utec.proyectofinal.Proyecto.Final.UTEC.controllers</a> &gt; <span class="el_source">ReporteController.java</span></div><h1>ReporteController.java</h1><pre class="source lang-java linenums">package utec.proyectofinal.Proyecto.Final.UTEC.controllers;

import lombok.RequiredArgsConstructor;
import org.springframework.format.annotation.DateTimeFormat;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import utec.proyectofinal.Proyecto.Final.UTEC.dtos.response.*;
import utec.proyectofinal.Proyecto.Final.UTEC.services.ReporteService;

import java.time.LocalDate;

@RestController
@RequestMapping(&quot;/api/reportes&quot;)
@RequiredArgsConstructor
public class ReporteController {

    private final ReporteService reporteService;

    @GetMapping(&quot;/general&quot;)
    public ResponseEntity&lt;ReporteGeneralDTO&gt; obtenerReporteGeneral(
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaInicio,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaFin
    ) {
<span class="fc" id="L24">        ReporteGeneralDTO reporte = reporteService.obtenerReporteGeneral(fechaInicio, fechaFin);</span>
<span class="fc" id="L25">        return ResponseEntity.ok(reporte);</span>
    }

    @GetMapping(&quot;/germinacion&quot;)
    public ResponseEntity&lt;ReporteGerminacionDTO&gt; obtenerReporteGerminacion(
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaInicio,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaFin
    ) {
<span class="fc" id="L33">        ReporteGerminacionDTO reporte = reporteService.obtenerReporteGerminacion(fechaInicio, fechaFin);</span>
<span class="fc" id="L34">        return ResponseEntity.ok(reporte);</span>
    }

    @GetMapping(&quot;/pms&quot;)
    public ResponseEntity&lt;ReportePMSDTO&gt; obtenerReportePms(
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaInicio,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaFin
    ) {
<span class="fc" id="L42">        ReportePMSDTO reporte = reporteService.obtenerReportePms(fechaInicio, fechaFin);</span>
<span class="fc" id="L43">        return ResponseEntity.ok(reporte);</span>
    }

    @GetMapping(&quot;/pureza&quot;)
    public ResponseEntity&lt;ReportePurezaDTO&gt; obtenerReportePureza(
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaInicio,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaFin
    ) {
<span class="fc" id="L51">        ReportePurezaDTO reporte = reporteService.obtenerReportePureza(fechaInicio, fechaFin);</span>
<span class="fc" id="L52">        return ResponseEntity.ok(reporte);</span>
    }

    @GetMapping(&quot;/tetrazolio&quot;)
    public ResponseEntity&lt;ReporteTetrazolioDTO&gt; obtenerReporteTetrazolio(
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaInicio,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaFin
    ) {
<span class="fc" id="L60">        ReporteTetrazolioDTO reporte = reporteService.obtenerReporteTetrazolio(fechaInicio, fechaFin);</span>
<span class="fc" id="L61">        return ResponseEntity.ok(reporte);</span>
    }

    @GetMapping(&quot;/dosn&quot;)
    public ResponseEntity&lt;ReportePurezaDTO&gt; obtenerReporteDosn(
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaInicio,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaFin
    ) {
<span class="fc" id="L69">        ReportePurezaDTO reporte = reporteService.obtenerReporteDosn(fechaInicio, fechaFin);</span>
<span class="fc" id="L70">        return ResponseEntity.ok(reporte);</span>
    }

    @GetMapping(&quot;/pureza/contaminantes/{especie}&quot;)
    public ResponseEntity&lt;java.util.Map&lt;String, Double&gt;&gt; obtenerContaminantesPureza(
            @PathVariable String especie,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaInicio,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaFin
    ) {
<span class="fc" id="L79">        java.util.Map&lt;String, Double&gt; contaminantes = reporteService.obtenerContaminantesPorEspeciePureza(especie, fechaInicio, fechaFin);</span>
<span class="fc" id="L80">        return ResponseEntity.ok(contaminantes);</span>
    }

    @GetMapping(&quot;/dosn/contaminantes/{especie}&quot;)
    public ResponseEntity&lt;java.util.Map&lt;String, Double&gt;&gt; obtenerContaminantesDosn(
            @PathVariable String especie,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaInicio,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE) LocalDate fechaFin
    ) {
<span class="fc" id="L89">        java.util.Map&lt;String, Double&gt; contaminantes = reporteService.obtenerContaminantesPorEspecieDosn(especie, fechaInicio, fechaFin);</span>
<span class="fc" id="L90">        return ResponseEntity.ok(contaminantes);</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>